"use strict";(self.webpackChunklist_manager=self.webpackChunklist_manager||[]).push([[894],{5894:function(e,t,i){i.r(t),i.d(t,{default:function(){return B}});var s=i(9439),l=function(e){return e.todolists},n=function(e){return function(t){return"loading"===t.todolists.find((function(t){return t.id===e})).entityStatus}},a=i(9614),r=i(9647),d=function(e){return e.tasks},o=i(5956),c=i(5464),u=i(4294),m=i(2791),h=i(184),p=function(e){var t=e.todolist,i=(0,c.o)(a.eX).changeTodolistFilter,s=function(e){return function(){i({id:t.id,filter:e})}},l="all"===t.filter?"primary":"inherit",n="active"===t.filter?"error":"inherit",r="completed"===t.filter?"success":"inherit";return(0,h.jsxs)("div",{className:"filter-block",children:[(0,h.jsx)(u.Z,{variant:"contained",size:"small",onClick:s("all"),color:l,children:"All"}),(0,h.jsx)(u.Z,{variant:"contained",size:"small",onClick:s("active"),color:n,children:"Active"}),(0,h.jsx)(u.Z,{variant:"contained",size:"small",onClick:s("completed"),color:r,children:"Completed"})]})},f=i(3671),x=i(5397),v=i(3400),j=i(9434),k=function(e){var t=e.todolist,i=(0,c.o)(a.$f),s=i.removeTodolist,l=i.changeTodolistTitle,r=(0,j.v9)(n(t.id));return(0,h.jsxs)("h3",{className:"list-title",children:[(0,h.jsx)(f.m1,{value:t.title,onChange:function(e){return l({id:t.id,title:e}).unwrap()},disabled:r}),(0,h.jsx)(v.Z,{onClick:function(){s(t.id)},disabled:"loading"===t.entityStatus,children:(0,h.jsx)(x.Z,{})})]})},Z=i(5527),b=(0,m.memo)((function(e){var t=e.todolist,i=(0,j.v9)(d)[t.id],s=(0,c.o)(o.KM).addTask,l=(0,m.useCallback)((function(e){return s({title:e,todolistId:t.id}).unwrap()}),[]),n="loading"===t.entityStatus;return(0,h.jsx)("div",{children:(0,h.jsxs)(Z.Z,{elevation:2,style:{padding:"1.5rem 1rem"},children:[(0,h.jsx)(k,{todolist:t}),(0,h.jsx)(f.BZ,{addItem:l,disabled:n,placeholder:"Enter task title",className:"padding-block"}),(0,h.jsx)(q,{todolist:t,tasks:i}),(0,h.jsx)("div",{style:{paddingTop:"10px"},children:(0,h.jsx)(p,{todolist:t})})]})})})),g=i(9135),C=i(4165),y=i(5861),N=i(9924),_=i(9174),D=i(1413),w=i(1652),S=i(4560),I=i(4750),T=i(2869),F=i(8096),M=i(6989),A=i(829),P=i(9891),z=i(7198),L=i(7892),E=i.n(L),K=i(5705),O=function(e){var t=e.onClose,i=e.open,s=e.task,l=function(e,t){var i;return(0,K.TA)({initialValues:{title:e.title,status:e.status,priority:e.priority,startDate:e.startDate?E()(new Date(e.startDate)):null,deadline:e.deadline?E()(new Date(e.deadline)):null,description:null!==(i=e.description)&&void 0!==i?i:""},validate:function(e){var t={};return e.title.length||(t.title="Field is required"),t},onSubmit:function(e){var i,s,l={title:e.title,status:e.status,priority:e.priority,startDate:null===(i=e.startDate)||void 0===i?void 0:i.toISOString(),deadline:null===(s=e.deadline)||void 0===s?void 0:s.toISOString(),description:e.description};t(l)}})}(s,e.onSubmit),n=l.handleSubmit,a=l.getFieldProps,r=l.setFieldValue,d=l.touched,o=l.errors,c=!(!d.title||!o.title),m=c?o.title:"Task title";return(0,h.jsx)(f.u_,{onClose:t,open:i,title:s.title,children:(0,h.jsxs)("form",{className:"task-form",onSubmit:n,children:[(0,h.jsxs)("div",{className:"task-form__created",children:[(0,h.jsx)("span",{children:"Creted:"})," ",(0,h.jsx)("span",{children:new Date(s.addedDate).toLocaleString()})]}),(0,h.jsx)(M.Z,(0,D.Z)({label:m,error:c},a("title"))),(0,h.jsxs)("div",{className:"task-form__select-group select-group",children:[(0,h.jsxs)(F.Z,{className:"select-group__select select",children:[(0,h.jsx)(A.Z,{id:"demo-simple-select-label",className:"select__label",children:"Status"}),(0,h.jsxs)(z.Z,(0,D.Z)((0,D.Z)({labelId:"demo-simple-select-label",id:"demo-simple-select"},a("status")),{},{children:[(0,h.jsx)(P.Z,{value:0,children:"New"}),(0,h.jsx)(P.Z,{value:1,children:"In Progress"}),(0,h.jsx)(P.Z,{value:2,children:"Completed"}),(0,h.jsx)(P.Z,{value:3,children:"Draft"})]}))]}),(0,h.jsxs)(F.Z,{className:"select-group__select select",children:[(0,h.jsx)(A.Z,{id:"priority-select-label",className:"select__label",children:"Priority"}),(0,h.jsxs)(z.Z,(0,D.Z)((0,D.Z)({labelId:"priority-select-label",id:"priority-select"},a("priority")),{},{children:[(0,h.jsx)(P.Z,{value:0,children:"Low"}),(0,h.jsx)(P.Z,{value:1,children:"Middle"}),(0,h.jsx)(P.Z,{value:2,children:"Hight"}),(0,h.jsx)(P.Z,{value:3,children:"Urgently"}),(0,h.jsx)(P.Z,{value:4,children:"Later"})]}))]})]}),(0,h.jsx)(w._,{dateAdapter:I.y,children:(0,h.jsx)(S.C,{components:["DatePicker","DatePicker"],children:(0,h.jsxs)("div",{className:"task-form__dates dates",children:[(0,h.jsx)(T.M,(0,D.Z)((0,D.Z)({label:"Start date",className:"dates__start"},a("startDate")),{},{onChange:function(e){r("startDate",E()(new Date(e)))}})),(0,h.jsx)(T.M,(0,D.Z)((0,D.Z)({label:"Deadline",className:"dates__deadline"},a("deadline")),{},{onChange:function(e){r("deadline",E()(new Date(e)))}}))]})})}),(0,h.jsx)(M.Z,(0,D.Z)({label:"Description",multiline:!0},a("description"))),(0,h.jsxs)("div",{className:"task-form__buttons",children:[(0,h.jsx)(u.Z,{variant:"contained",color:"inherit",onClick:t,children:"Cancel"}),(0,h.jsx)(u.Z,{variant:"contained",type:"submit",children:"Apply"})]})]})})},V=i(56),$=(0,m.memo)((function(e){var t=e.task,i=e.todolistId,l=(0,c.T)(),a=(0,j.v9)(n(i)),r=(0,c.o)(o.KM),d=r.removeTask,u=r.updateTask,p=(0,m.useState)(!1),f=(0,s.Z)(p,2),x=f[0],k=f[1],Z=a||t.loading,b=t.status===g.Fm.Completed,D=function(){var e=(0,y.Z)((0,C.Z)().mark((function e(s){return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({taskId:t.id,domainModel:s,todolistId:i}).unwrap();case 3:k(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),(0,V.d2)(e.t0,l);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:"task",children:[(0,h.jsx)(O,{open:x,onClose:function(){return k(!1)},task:t,onSubmit:D}),(0,h.jsx)(_.Z,{checked:b,color:"primary",onChange:function(e){var s=e.currentTarget.checked?g.Fm.Completed:g.Fm.New;u({taskId:t.id,domainModel:{status:s},todolistId:i})},disabled:Z}),(0,h.jsxs)("div",{className:"task-with-icon",children:[(0,h.jsx)("p",{className:"editable-span",onClick:function(){return k(!0)},children:t.title}),(0,h.jsx)(v.Z,{onClick:function(){d({taskId:t.id,todolistId:i})},disabled:Z,children:(0,h.jsx)(N.Z,{style:{opacity:"0.4"}})})]})]})})),q=function(e){var t=e.tasks,i=e.todolist,l=(0,r.u)(),n=(0,s.Z)(l,1)[0],a=t;return"active"===i.filter&&(a=t.filter((function(e){return e.status===g.Fm.New}))),"completed"===i.filter&&(a=t.filter((function(e){return e.status===g.Fm.Completed}))),(0,h.jsx)("div",{className:"task-list",ref:n,children:a.length?a.map((function(e){return(0,h.jsx)($,{task:e,todolistId:i.id},e.id)})):(0,h.jsx)("p",{className:"no-task",children:"No tasks yet..."})})},B=function(){var e=(0,r.u)(),t=(0,s.Z)(e,1)[0],i=(0,j.v9)(l),n=(0,c.o)(a.$f).fetchTodolists;return(0,m.useEffect)((function(){n()}),[]),(0,h.jsx)("div",{className:"lists-container",ref:t,children:null===i||void 0===i?void 0:i.map((function(e){return(0,h.jsx)(b,{todolist:e},e.id)}))})}}}]);
//# sourceMappingURL=894.782086aa.chunk.js.map